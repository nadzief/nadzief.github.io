{"version":3,"sources":["views/Berita/Berita.js","redux/berita/beritaAction.js"],"names":["Tables","props","_this","Object","D_server_ReactNative_NewsApps_AdminNewsApps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_2__","this","D_server_ReactNative_NewsApps_AdminNewsApps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_4__","D_server_ReactNative_NewsApps_AdminNewsApps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_5__","call","state","modal","collapse","fadeIn","timeout","data","toggle","bind","D_server_ReactNative_NewsApps_AdminNewsApps_node_modules_babel_preset_react_app_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_6__","toggling","handleDelete","setState","prevState","event","id","_this2","preventDefault","swal","title","text","icon","buttons","dangerMode","then","willDelete","dispatch","deleteData","getData","newProps","_this3","react__WEBPACK_IMPORTED_MODULE_8___default","a","createElement","className","reactstrap__WEBPACK_IMPORTED_MODULE_9__","reactstrap__WEBPACK_IMPORTED_MODULE_10__","reactstrap__WEBPACK_IMPORTED_MODULE_11__","in","reactstrap__WEBPACK_IMPORTED_MODULE_12__","reactstrap__WEBPACK_IMPORTED_MODULE_13__","reactstrap__WEBPACK_IMPORTED_MODULE_14__","color","data-target","onClick","reactstrap__WEBPACK_IMPORTED_MODULE_15__","isOpen","reactstrap__WEBPACK_IMPORTED_MODULE_16__","xs","sm","reactstrap__WEBPACK_IMPORTED_MODULE_17__","row","md","react_router_dom__WEBPACK_IMPORTED_MODULE_18__","to","size","react_table__WEBPACK_IMPORTED_MODULE_23__","filterable","sortable","columns","Header","accessor","width","Cell","original","defaultPageSize","showPaginationBottom","Component","withRouter","connect","dataBerita","__webpack_require__","d","__webpack_exports__","getDataById","createData","editData","axios__WEBPACK_IMPORTED_MODULE_0__","axios__WEBPACK_IMPORTED_MODULE_0___default","n","_beritaType__WEBPACK_IMPORTED_MODULE_1__","_root___WEBPACK_IMPORTED_MODULE_2__","_root___WEBPACK_IMPORTED_MODULE_2___default","_helpers_history__WEBPACK_IMPORTED_MODULE_3__","sweetalert__WEBPACK_IMPORTED_MODULE_4__","sweetalert__WEBPACK_IMPORTED_MODULE_4___default","type","actionType","loading","URL","API","axios","get","response","payload","catch","error","failedFetchData","concat","datas","failedFetchDataById","post","button","history","push","failedPostData","delete","success","failedDeleteData","failedEditData"],"mappings":"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","file":"static/js/54.f69ac1f3.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { \r\n  Button,\r\n  Card, \r\n  CardBody, \r\n  CardHeader, \r\n  Col,\r\n  Collapse,\r\n  Row,\r\n  Fade, \r\n  FormGroup,\r\n} from 'reactstrap';\r\nimport { Link, withRouter } from 'react-router-dom';\r\nimport swal from 'sweetalert';\r\nimport { connect } from 'react-redux';\r\nimport { getData, deleteData } from '../../redux/berita/beritaAction';\r\nimport ReactTable from 'react-table';\r\nimport \"react-table/react-table.css\";\r\n\r\nclass Tables extends Component {\r\n  constructor(props){\r\n    super(props);\r\n    this.state = { \r\n        modal: false,\r\n        collapse: true,\r\n        fadeIn: true,\r\n        timeout: 300,\r\n        data: []\r\n    }\r\n    this.toggle = this.toggle.bind(this);\r\n    this.toggling = this.toggling.bind(this);\r\n    this.handleDelete = this.handleDelete.bind(this);\r\n  }\r\n  \r\n  toggle(){\r\n    this.setState({ modal: !this.state.modal });\r\n  };\r\n\r\n  toggling(){\r\n    this.setState({ collapse: !this.state.collapse });\r\n  };\r\n\r\n  toggleFade(){\r\n    this.setState((prevState) => { return { fadeIn: !prevState } });\r\n  };\r\n\r\n  handleDelete(event, id){\r\n    event.preventDefault();\r\n    swal({\r\n      title: 'Apakah Anda Yakin?',\r\n      text: 'Ingin Menghapus Data Ini?',\r\n      icon: 'warning',\r\n      buttons: true,\r\n      dangerMode: true\r\n    })\r\n    .then((willDelete) => {\r\n      if(willDelete){\r\n        swal(\r\n          'Deleted!', \"Data Berhasil Dihapus\",\r\n          { icon: \"success\" }\r\n        )\r\n        .then(\r\n          this.props.dispatch(deleteData(id)),\r\n        )\r\n      }else{\r\n        swal('Data Tidak Jadi Dihapus')\r\n      }\r\n    });\r\n  }\r\n\r\n  async componentWillMount(){\r\n    await this.props.dispatch(getData())\r\n  }\r\n\r\n  async componentWillReceiveProps(newProps){\r\n    this.setState({\r\n      data: await newProps.data.data.data\r\n    })\r\n  }\r\n\r\n  // async componentDidMount(){\r\n  //   await this.props.dispatch(getData());  \r\n  // }\r\n\r\n  render() {\r\n    // const { data } = this.props.data;\r\n    // console.log(this.state.data)\r\n    return (\r\n      <div className=\"animated fadeIn\">\r\n        <Row>\r\n          <Col>\r\n            <Fade timeout={this.state.timeout} in={this.state.fadeIn}>\r\n              <Card>\r\n                <CardHeader>\r\n                  <i className=\"fa fa-align-justify\"></i> Berita\r\n                  <div className=\"card-header-actions\">\r\n                    <Button color=\"link\" className=\"card-header-action btn-setting\"><i className=\"icon-settings\"></i></Button>\r\n                    <Button color=\"link\" className=\"card-header-action btn-minimize\" data-target=\"#collapseExample\" onClick={this.toggling}><i className=\"icon-arrow-up\"></i></Button>\r\n                  </div>\r\n                </CardHeader>\r\n                <Collapse isOpen={this.state.collapse} id=\"collapseExample\">\r\n                  <CardBody>\r\n                    <Row>\r\n                      <Col xs=\"12\" sm=\"12\">\r\n                        <FormGroup row>\r\n                          <Col xs=\"12\" md=\"5\">\r\n                            <Link to=\"/berita/tambah-berita\">\r\n                                <Button color=\"primary\" size=\"md\">  \r\n                                    <i className=\"icon-plus\"> Tambah </i> \r\n                                </Button>\r\n                            </Link> \r\n                          </Col>\r\n                        </FormGroup>\r\n                      </Col>\r\n                    </Row>\r\n                    <ReactTable\r\n                      data={this.state.data}\r\n                      filterable\r\n                      sortable\r\n                      columns={[\r\n                        {\r\n                          Header: \"Title\",\r\n                          accessor: \"title\",\r\n                          width: 150\r\n                        },\r\n                        {\r\n                          Header: \"Content\",\r\n                          accessor: \"content\",\r\n                          width: 250\r\n                        },\r\n                        {\r\n                          Header: \"Kategori\",\r\n                          accessor: \"nama_category\",\r\n                          width: 100\r\n                        },\r\n                        {\r\n                          Header: \"Author\",\r\n                          accessor: \"author\",\r\n                          width: 100\r\n                        },\r\n                        {\r\n                          Header: \"Status\",\r\n                          accessor: \"status\",\r\n                          width: 100\r\n                        },\r\n                        {\r\n                          accessor: \"actions\",\r\n                          sortable: false,\r\n                          filterable: false,\r\n                          width: 80,\r\n                          Cell: props =>\r\n                            <div>\r\n                              <Link to={\"/berita/edit-berita/\"+props.original.id}>\r\n                                <Button color=\"primary\" size=\"sm\"> \r\n                                  <i className=\"icon-pencil\"> </i> \r\n                                </Button>\r\n                              </Link>\r\n                              &nbsp;&nbsp;\r\n                              <Button color=\"danger\" size=\"sm\" onClick={(event) => { this.handleDelete(event, props.original.id) }}> \r\n                                <i className=\"icon-trash\"> </i> \r\n                              </Button>\r\n                            </div>\r\n                        }\r\n                      ]}\r\n                      defaultPageSize={5}\r\n                      showPaginationBottom={true}\r\n                      className=\"-striped -highlight\"\r\n                    />\r\n                  </CardBody>\r\n                </Collapse>\r\n              </Card>\r\n            </Fade>\r\n          </Col>\r\n        </Row>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n    return{\r\n      data: state.dataBerita,\r\n  }\r\n};\r\n\r\nexport default withRouter(connect(mapStateToProps)(Tables));","import axios from 'axios';\r\nimport * as actionType from './beritaType';\r\nimport API from '../../root/';\r\nimport { history } from '../../helpers/history';\r\nimport swal from 'sweetalert';\r\n\r\nexport function fetchData(data){\r\n    return{\r\n        type: actionType.GET_BERITA_SUCCESS,\r\n        payload: { data }\r\n    }\r\n}\r\n\r\nexport function fetchDataById(datas){\r\n    return{\r\n        type: actionType.GET_BERITA_BY_ID_SUCCESS,\r\n        payload: { datas }\r\n    }\r\n}\r\n\r\nexport function failedFetchData(error){\r\n    return{\r\n        type: actionType.GET_BERITA_FAILED,\r\n        payload: { error }\r\n    }\r\n}\r\n\r\nexport function failedFetchDataById(error){\r\n    return{\r\n        type: actionType.GET_BERITA_BY_ID_FAILED,\r\n        payload: { error }\r\n    }\r\n}\r\n\r\nexport function failedPostData(error){\r\n    return{\r\n        type: actionType.POST_BERITA_FAILED,\r\n        payload: { error }\r\n    }\r\n}\r\n\r\nexport function failedDeleteData(error){\r\n    return{\r\n        type: actionType.DELETE_BERITA_FAILED,\r\n        payload: { error }\r\n    }\r\n}\r\n\r\nexport function failedEditData(error){\r\n    return{\r\n        type: actionType.EDIT_BERITA_FAILED,\r\n        payload: { error }\r\n    }\r\n}\r\n\r\nexport function getData(){\r\n    return function(dispatch){\r\n        dispatch({ type: actionType.GET_BERITA_REQUEST, loading: true })\r\n        const URL = API+`get/berita/`\r\n        return axios.get(URL)\r\n            .then((response) => {\r\n                dispatch(fetchData(response.data))\r\n            })\r\n            .catch((error) => {\r\n                dispatch(failedFetchData(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport function getDataById(id){\r\n    return function(dispatch){\r\n        dispatch({ type: actionType.GET_BERITA_BY_ID_REQUEST, loading: true })\r\n        const URL = API+`get/berita/${id}`\r\n        return axios.get(URL)\r\n            .then((response) => { \r\n                dispatch(fetchDataById(response.data))\r\n            })\r\n            .catch((error) => {\r\n                dispatch(failedFetchDataById(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport function createData(data){\r\n    return function(dispatch){\r\n        dispatch({ type: actionType.POST_BERITA_REQUEST, loading: true })\r\n        const URL = API+`post/berita`\r\n        return axios.post(URL, data)\r\n            .then((response) => {\r\n                dispatch({ type: actionType.POST_BERITA_SUCCESS, payload: response.data })\r\n                swal({\r\n                    icon: 'success',\r\n                    title: 'Berhasil Tambah Data',\r\n                    button: true\r\n                })\r\n                history.push('/berita')\r\n            })\r\n            .catch((error) => {\r\n                dispatch(failedPostData(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport function deleteData(id){\r\n    return function(dispatch){\r\n        dispatch({ type: actionType.DELETE_BERITA_REQUEST, loading: true })\r\n        const URL = API+`delete/berita/${id}`\r\n        return axios.delete(URL)\r\n            .then((response) => {\r\n                dispatch({ type: actionType.DELETE_BERITA_SUCCESS, success: true })\r\n                dispatch(getData())\r\n            })\r\n            .catch((error) => {\r\n                dispatch(failedDeleteData(error))\r\n            })\r\n    }\r\n}\r\n\r\nexport function editData(data){\r\n    return function(dispatch){\r\n        dispatch({ type: actionType.EDIT_BERITA_REQUEST, loading: true })\r\n        const URL = API+`edit/berita`\r\n        return axios.post(URL, data)\r\n            .then((response) => {\r\n                dispatch({ type: actionType.EDIT_BERITA_SUCCESS, payload: response.data })\r\n                swal({\r\n                    icon: 'success',\r\n                    title: 'Berhasil Edit Data',\r\n                    button: true\r\n                })\r\n                history.push('/berita')\r\n            })\r\n            .catch((error) => {\r\n                dispatch(failedEditData(error))\r\n            })\r\n    }\r\n}"],"sourceRoot":""}